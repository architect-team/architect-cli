{
  "version": "3",
  "services": {
    "architect.division-service-grpc.latest": {
      "ports": [
        "50000:8080"
      ],
      "depends_on": [
        "architect.subtraction-service-rest.latest"
      ],
      "environment": {
        "HOST": "architect.division-service-grpc.latest",
        "PORT": "8080"
      },
      "build": {
        "context": "/test/calculator/division-service",
        "args": [
          "ARCHITECT_DEBUG=1"
        ]
      },
      "command": "npm run debug",
      "volumes": [
        "/test/calculator/division-service/src:/usr/src/app/src"
      ]
    },
    "architect.subtraction-service-rest.latest": {
      "ports": [
        "50001:8080"
      ],
      "depends_on": [
        "architect.addition-service-rest.latest"
      ],
      "environment": {
        "HOST": "architect.subtraction-service-rest.latest",
        "PORT": "8080"
      },
      "build": {
        "context": "/test/calculator/subtraction-services/go/rest",
        "args": [
          "ARCHITECT_DEBUG=1"
        ]
      },
      "command": "sh -c 'go run main.go'"
    },
    "architect.addition-service-rest.latest": {
      "ports": [
        "50002:8080"
      ],
      "depends_on": [
        "architect.addition-service-rest.latest.primary"
      ],
      "environment": {
        "HOST": "architect.addition-service-rest.latest",
        "PORT": "8080"
      },
      "build": {
        "context": "/test/calculator/addition-service/rest",
        "args": [
          "ARCHITECT_DEBUG=1"
        ]
      },
      "command": "npm run dev",
      "volumes": [
        "/test/calculator/addition-service/rest/src:/usr/src/app/src"
      ]
    },
    "architect.addition-service-rest.latest.primary": {
      "ports": [
        "50003:5432"
      ],
      "depends_on": [],
      "environment": {
        "HOST": "architect.addition-service-rest.latest.primary",
        "PORT": "5432",
        "POSTGRES_USER": "postgres",
        "POSTGRES_PASSWORD": "architect",
        "POSTGRES_DB": "addition_service"
      },
      "image": "postgres:10"
    }
  },
  "volumes": {}
}
